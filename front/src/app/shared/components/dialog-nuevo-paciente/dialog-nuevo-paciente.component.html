<div class="formContainer">
    <h2>Nuevo paciente</h2>
    <mat-form-field>
        <mat-label>Nombre</mat-label>
        <input matInput [formControl]="nombre">
        @if (nombre.hasError('required')) {
          <mat-error>Por favor, complete este campo</mat-error>
        }
    </mat-form-field>
    <mat-form-field>
        <mat-label>Apellido</mat-label>
        <input matInput [formControl]="apellido">
        @if (apellido.hasError('required')) {
          <mat-error>Por favor, complete este campo</mat-error>
        }
    </mat-form-field>
    <mat-form-field>
        <mat-label>DNI</mat-label>
        <input matInput [formControl]="dni">
        @if (dni.hasError('pattern') && !dni.hasError('required')) {
          <mat-error>Por favor, ingrese un DNI válido (sin puntos)</mat-error>
        }
  
      @if (dni.hasError('required')) {
          <mat-error>Por favor, complete este campo</mat-error>
        }
    </mat-form-field>
    <mat-form-field>
        <mat-label>Fecha de nacimiento</mat-label>
        <input matInput [formControl]="fechaNac" type="date">
        @if (fechaNac.hasError('required')) {
          <mat-error>Por favor, complete este campo</mat-error>
        }
    </mat-form-field>
    <mat-form-field>
        <mat-label>Teléfono</mat-label>
        <input matInput [formControl]="tel">
        @if (tel.hasError('pattern') && !tel.hasError('required')) {
          <mat-error>Por favor, ingrese un número de teléfono válido</mat-error>
        }
  
      @if (tel.hasError('required')) {
          <mat-error>Por favor, complete este campo</mat-error>
        }
    </mat-form-field>
    <mat-form-field>
        <mat-label>Seleccione Grupo Sanguíneo</mat-label>
        <mat-select [formControl]="grupoSanguineo" required>
          <mat-option value="0+">0+</mat-option>
          <mat-option value="0-">0-</mat-option>
          <mat-option value="A+">A+</mat-option>
          <mat-option value="A-">A-</mat-option>
          <mat-option value="B+">B+</mat-option>
          <mat-option value="B-">B-</mat-option>
          <mat-option value="AB+">AB+</mat-option>
          <mat-option value="AB-">AB-</mat-option>
        </mat-select>
        @if (grupoSanguineo.hasError('required')) {
          <mat-error>Por favor, elija un grupo sanguíneo</mat-error>
        }
      </mat-form-field>
      <mat-form-field>
        <mat-label>Seleccione Obra Social</mat-label>
        <mat-select [formControl]="obraSocial" required>
          <mat-option value="osde">OSDE</mat-option>
          <mat-option value="medife">Medifé</mat-option>
          <mat-option value="osecac">OSECAC</mat-option>
          <mat-option value="oam">OAM</mat-option>
          <mat-option value="particular">Particular</mat-option>
        </mat-select>
        @if (obraSocial.hasError('required')) {
          <mat-error>Por favor, elija una opción</mat-error>
        }
      </mat-form-field>
    <div class="btnContainer">
        <app-btn-secondary (click)="cerrarModal()" buttonText="Cancelar"></app-btn-secondary>
        @if (nombre.hasError('required') || apellido.hasError('required') || dni.hasError('required') || dni.hasError('pattern') || fechaNac.hasError('required') || tel.hasError('pattern') || tel.hasError('required') || grupoSanguineo.hasError('required') || obraSocial.hasError('required')) {
          <app-btn-inactive buttonText="Agregar Paciente"></app-btn-inactive>
        } @else {
          <app-btn-primary (click)="agregarPaciente()" buttonText="Agregar Paciente"></app-btn-primary>
        }
    </div>
</div>

